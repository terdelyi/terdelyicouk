<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="utf-8">
    <title>Tamas Erdelyi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="I'm is a Software Developer with 23 years of full-stack experience based in Gloucestershire, United Kingdom">
    <meta property="og:image" content="https://deploy-preview-23--clever-kirch-e3579e.netlify.app/assets/posts/if-it-looks-like-a-duck-weak-and-strong-typing.png">
    <link rel="stylesheet" href="https://deploy-preview-23--clever-kirch-e3579e.netlify.app/assets/css/site.css">
</head>
<body class="bg-grey-300 dark:bg-grey-700 font-sans text-blue-400 dark:text-grey-500 antialiased">
    <div class="flex flex-col h-screen justify-between">
        <header class="bg-blue-400 relative dark:bg-grey-800 text-grey-200 dark:text-grey-400">
            <div class="w-full md:max-w-screen-md flex items-center justify-between mx-auto">
                <div class="flex pl-4 md:pl-0 items-center">
                    <div>
                        <h1 class="sm:text-xl">
                            <a href="/" class="hover:underline font-bold tracking-tight">Tamas Erdelyi</a>
                        </h1>
                    </div>
                    <div class="w-24 sm:w-32 -ml-4">
                        <img alt="Not Kevin Smith" src="https://deploy-preview-23--clever-kirch-e3579e.netlify.app/assets/images/header-profile.png" />
                    </div>
                </div>
                <nav class="hidden sm:block md:pr-12">
                    <ul class="px-4 md:px-0 text-sm md:text-base font-normal tracking-tight inline-flex">
                        <li><a href="/about/" class="px-4 sm:px-3 hover:underline">About</a></li>
                        <li><a href="/posts/" class="px-4 sm:px-3 hover:underline font-bold">Posts</a></li>
                        <li><a href="/uses/" class="px-4 sm:px-3 hover:underline">Uses</a></li>
                        <li><a href="/contact/" class="px-4 md:pr-0 sm:px-4 hover:underline">Contact</a></li>
                    </ul>
                </nav>
                <div class="flex sm:hidden mr-4">
                    <button v-on:click="menuActive = true" v-if="!menuActive" class="button">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                    <button v-on:click="menuActive = false" v-if="menuActive" class="button">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
            <div v-if="menuActive" class="max-w-screen-md flex sm:hidden px-4 md:px-0 py-2 mx-auto bg-blue-700 dark:bg-grey-750">
                <ul>
                    <li class="pb-1"><a href="/about/" class="hover:underline">About</a></li>
                    <li class="pb-1"><a href="/posts/" class="hover:underline font-bold text-grey-100">Posts</a></li>
                    <li class="pb-1"><a href="/uses/" class="hover:underline">Uses</a></li>
                    <li class="pb-1"><a href="/contact/" class="hover:underline">Contact</a></li>
                </ul>
            </div>
            <div class="absolute top-3 sm:top-5 right-14 sm:right-6  hover:text-white">

            </div>
        </header>
        <main class="mb-auto px-4 sm:px-0 container-md pt-5 sm:pt-10 pb-2 sm:pb-4">

    <article>
        <h1>If it looks like a duck and quacks like a duck it must be about typing</h1>
        <div class="has-content">
            <p>David Heinemeier Hansson (aka DHH), creator of Ruby on Rails and founder of
37signals <a href="https://world.hey.com/dhh/turbo-8-is-dropping-typescript-70165c01">recently announced</a>, he's removing
TypeScript from <a href="https://turbo.hotwire.dev/">Turbo</a> starting from version 8, which has made him the target of never-ending
mocking regarding typing and software reliability.</p>
<p>Turbo is a JavaScript framework to create progressively enhanced web applications. The way it achieves that is by
capturing every link click and form submission, changes all to AJAX requests, then extracts the <code>body</code> from the
response to replace corresponding parts of the existing page. It does that without affecting the <code>head</code> tag and requiring a full
page reload. Behind the scenes, it also manages the browser's back button functionality and stores the history of full
<code>body</code> contents in a cache. Additionally, Turbo also supports requesting and fetching updates through WebSocket, not just XHR.</p>
<p>Turbo is the heart of the <a href="https://hotwired.dev/">Hotwire framework</a> which contains a couple other frameworks like
Stimulus and Strada to build
native-like Single Page Applications (SPA) without using any progressive frameworks like React or Vue, and all templates are
generated on server-side.</p>
<p>It is the similar technique what <a href="https://laravel-livewire.com/">Laravel LiveWire</a> implemented, which was also heavily inspired by an Elixir module
called <a href="https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html">Phoenix LiveView</a>. Other implementations are also available out there like <a href="https://htmx.org/">htmx</a> or <a href="https://inertiajs.com/">Inertia.js</a>.
Unlike LiveWire, Hotwire doesn't require any backend framework.</p>
<h2>What is TypeScript?</h2>
<p>JavaScript was originally never intended to be a programming language, certainly not for large applications. It was born
as LiveScript, a scripting language thanks to a collaboration between <strong>Netscape</strong> and <strong>Sun Microsystems</strong> to embed Java into
Netscape Navigator in 1995. That's also the reason for its later renaming, because of its syntax similarities to Java. When
the legendary browser
wars began between Netscape and <strong>Microsoft</strong>, the latter reverse-engineered Navigator's interpreter to create their own
variation which they named JScript. A year later, Netscape submitted JavaScript to ECMA International, an
organisation founded to standardise computer systems. The intention was to create a standard which could all
browser
vendors adopt and that finally led to the official release of the
first <a href="https://www.ecma-international.org/publications-and-standards/standards/ecma-262/">ECMAScript specification</a> in
June 1997. JavaScript in
the beginning didn't really have structuring concepts you would normally
find in other programming languages. These deficiencies made very difficult to build reliable large-scale applications.</p>
<p><a href="https://www.typescriptlang.org/">TypeScript</a> is a programming
language <a href="https://hanselminutes.com/340/what-is-typescript-and-why-with-anders-hejlsberg">built on the top of JavaScript</a> (or as they refer themselves a superset of
JavaScript) introduced in 2012 by Microsoft, mainly to resolve those concerns about large-scale development. Aside to
static typing and type checking at compile time, it also introduced classes, generics, visibility, union types, enums, modules and
namespaces which all helped to elevate JavaScript to a higher level. TypeScript code is backward compatible with
JavaScript, which can be compiled into regular JavaScript, then it can be executed in a browser's JS engine or in
server-side runtime environments like Node.js.</p>
<p>Here's an example of a simple TypeScript code:</p>
<pre><code class="language-typescript">class Car implements Vehicle {
    private brand: Brand;
    private model: Model;
    private year: string;

    constructor(brand: Brand, model: Model, year: string) {
        this.brand = brand;
        this.model = model;
        this.year = year;
    }

    getTitle($withYear: boolean = false): string {
        if ($withYear) {
            return `${this.brand.name} ${this.model.name} (${this.year})`;
        }

        return `${this.brand.name} ${this.model.name}`;
    }
}</code></pre>
<p>You might love or hate TypeScript, but you cannot really find a job where the tech stack doesn't require
TypeScript in pair with JavaScript, weather it is server or client side programming. JavaScript also evolved in the past
decade, and today it has features which were only available in TypeScript before:</p>
<ul>
<li>Class keyword and modules have been introduced in ECMAScript 2015 (ES6)</li>
<li>You can emulate enums using object literals or constants</li>
<li>JSDoc annotations can provide type hints for better tooling</li>
</ul>
<h2>Strong or weak vs. dynamic or static</h2>
<p>Type safety is a feature of a programming language which simply means the language only allows you to perform operations
allowed by a data type. For an example you shouldn't use a method which requires a string on a numeric value. This
permission is checked during type checking which can be static or dynamic. <strong>Dynamically</strong> (or weakly) typed languages
check the types during runtime, meanwhile <strong>statically</strong> (or strong) typed languages usually does the same through compile time. Not
all languages are need to be compiled before runtime (like PHP, Ruby or Python), those are called <strong>interpreted languages</strong>.</p>
<p>JavaScript itself is <strong>weakly typed</strong>, which means its type system is more permissive and allows for implicit type
conversions and late type binding. Type violations might not be caught until runtime which may lead to unexpected
runtime errors. Languages like PHP, Ruby and Perl are all weakly typed.</p>
<p>On the other hand, with <strong>strong typing</strong> every variable and expression has a fixed data type that is determined at
compile-time. Type violations are caught at compile-time, which means that the code must stick to the specified
types, and any mismatch will result in a compilation error. Examples for strongly typed languages are Java, C, Smalltalk
or Pascal. Python however is both strongly and dynamically typed language.</p>
<p>TypeScript is also strongly typed and because it's compatible with JavaScript we can enforce type checks on our code
during compilation. As I've already mentioned PHP is dynamically typed, and we have no options to force type checking. Although,
it offers features like <em>type declarations and type hinting</em> which can check types in runtime if we specifically ask
it to do so by adding <code>declare(strict_types=1)</code>. Static analysis tools like <a href="https://psalm.dev/">Psalm</a> and <a href="https://phpstan.org/">PHPStan</a> can be also very
helpful by going through on our codebase without actually running it and catch possible issues caused by typing. Those
tools can also benefit any additional details specified in PHPDocs, mainly because PHP's native typehints are still not
perfect.</p>
<p>We can compare the previous TypeScript example with a PHP implementation and see the code is very much similar:</p>
<pre><code class="language-php">&lt;?php

declare(strict_types=1);

class Car implements VehicleInterface
{
    public function __construct(
        private Brand $brand,
        private Model $model,
        private string $year,
    ){
    }

    public function getTitle(bool $withYear = false): string
    {
        if ($withYear) {
           return "{$this-&gt;brand-&gt;getName()} {$this-&gt;model-&gt;getName()} ({$this-&gt;year})";    
        }

        return "{$this-&gt;brand-&gt;getName()} {$this-&gt;model-&gt;getName()}";
    }
}
</code></pre>
<p>There are also other ways to work around typing. <strong>Duck typing</strong> is a method of type checking that looks at the structure (properties and methods) and the functional
aspect of the object rather than its name or class. If it walks like a duck and talks like a duck, we treat it like a
duck, even if it's not.</p>
<p>People who prefer dynamically typing generally highlight the <em>flexibility, reusability, faster development speed, and
<a href="https://martinfowler.com/bliki/DynamicTyping.html">a better flow</a>,</em> which were also the same arguments that DHH came
up with in his post. Others favour <em>catching bugs early, ensuring safety, reliability, benefiting from
additional type information in the code and better IDE support</em>, even if compiling is a slower process or strict typing
could affect readability.</p>
<blockquote>
<p>&quot;You don't need static type checking if you have 100% unit test coverage.&quot;
(<a href="https://blog.cleancoder.com/uncle-bob/2016/05/01/TypeWars.html">Robert C. Martin</a>)</p>
</blockquote>
<p>Personally, I believe there isn't a good or bad choice here. <strong>Like many aspects of software engineering, it's about
trade-offs.</strong> Whenever it's possible I always enforce strict typing in PHP and use static analysis as part of
continuous integration, because it helps me recognise what the code accept and what's expected to be the outcome.
However, I cannot really appreciate enough that PHP is dynamically typed language.</p>        </div>
        <div class="text-grey-600 dark:text-grey-550 text-sm text-center mb-6">
            <div>
                This post was published on 2023-09-15 in Programming            </div>
        </div>
    </article>

        </main>
        <footer class="bg-grey-400 dark:bg-grey-750 py-6 text-grey-600 dark:text-grey-500">
            <div class="max-w-screen-md mx-auto text-center">
                <ul class="inline-flex mb-4">
                    <li>
                        <a href="https://www.linkedin.com/in/terdelyi/" target="_blank" rel="noopener noreferrer" class="mx-2 hover:text-pink" aria-label="LinkedIn">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="hover:fill-pink fill-grey-600 dark:fill-grey-500 inline-block h-6 w-6"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/terdelyi/" target="_blank" rel="noopener noreferrer" class="mx-2 hover:text-pink" aria-label="GitHub">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="hover:fill-pink fill-grey-600 dark:fill-grey-500 inline-block h-6 w-6"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/terdelyi/" target="_blank" rel="noopener noreferrer" class="mx-2 hover:text-pink" aria-label="Twitter">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="hover:fill-pink fill-grey-600 dark:fill-grey-500 inline-block h-6 w-6"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://soundcloud.com/terdelyi/" target="_blank" rel="noopener noreferrer" class="mx-2 hover:text-pink" aria-label="Soundcloud">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="hover:fill-pink fill-grey-600 dark:fill-grey-500 inline-block h-7 w-7"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M111.4 256.3l5.8 65-5.8 68.3c-.3 2.5-2.2 4.4-4.4 4.4s-4.2-1.9-4.2-4.4l-5.6-68.3 5.6-65c0-2.2 1.9-4.2 4.2-4.2 2.2 0 4.1 2 4.4 4.2zm21.4-45.6c-2.8 0-4.7 2.2-5 5l-5 105.6 5 68.3c.3 2.8 2.2 5 5 5 2.5 0 4.7-2.2 4.7-5l5.8-68.3-5.8-105.6c0-2.8-2.2-5-4.7-5zm25.5-24.1c-3.1 0-5.3 2.2-5.6 5.3l-4.4 130 4.4 67.8c.3 3.1 2.5 5.3 5.6 5.3 2.8 0 5.3-2.2 5.3-5.3l5.3-67.8-5.3-130c0-3.1-2.5-5.3-5.3-5.3zM7.2 283.2c-1.4 0-2.2 1.1-2.5 2.5L0 321.3l4.7 35c.3 1.4 1.1 2.5 2.5 2.5s2.2-1.1 2.5-2.5l5.6-35-5.6-35.6c-.3-1.4-1.1-2.5-2.5-2.5zm23.6-21.9c-1.4 0-2.5 1.1-2.5 2.5l-6.4 57.5 6.4 56.1c0 1.7 1.1 2.8 2.5 2.8s2.5-1.1 2.8-2.5l7.2-56.4-7.2-57.5c-.3-1.4-1.4-2.5-2.8-2.5zm25.3-11.4c-1.7 0-3.1 1.4-3.3 3.3L47 321.3l5.8 65.8c.3 1.7 1.7 3.1 3.3 3.1 1.7 0 3.1-1.4 3.1-3.1l6.9-65.8-6.9-68.1c0-1.9-1.4-3.3-3.1-3.3zm25.3-2.2c-1.9 0-3.6 1.4-3.6 3.6l-5.8 70 5.8 67.8c0 2.2 1.7 3.6 3.6 3.6s3.6-1.4 3.9-3.6l6.4-67.8-6.4-70c-.3-2.2-2-3.6-3.9-3.6zm241.4-110.9c-1.1-.8-2.8-1.4-4.2-1.4-2.2 0-4.2.8-5.6 1.9-1.9 1.7-3.1 4.2-3.3 6.7v.8l-3.3 176.7 1.7 32.5 1.7 31.7c.3 4.7 4.2 8.6 8.9 8.6s8.6-3.9 8.6-8.6l3.9-64.2-3.9-177.5c-.4-3-2-5.8-4.5-7.2zm-26.7 15.3c-1.4-.8-2.8-1.4-4.4-1.4s-3.1.6-4.4 1.4c-2.2 1.4-3.6 3.9-3.6 6.7l-.3 1.7-2.8 160.8s0 .3 3.1 65.6v.3c0 1.7.6 3.3 1.7 4.7 1.7 1.9 3.9 3.1 6.4 3.1 2.2 0 4.2-1.1 5.6-2.5 1.7-1.4 2.5-3.3 2.5-5.6l.3-6.7 3.1-58.6-3.3-162.8c-.3-2.8-1.7-5.3-3.9-6.7zm-111.4 22.5c-3.1 0-5.8 2.8-5.8 6.1l-4.4 140.6 4.4 67.2c.3 3.3 2.8 5.8 5.8 5.8 3.3 0 5.8-2.5 6.1-5.8l5-67.2-5-140.6c-.2-3.3-2.7-6.1-6.1-6.1zm376.7 62.8c-10.8 0-21.1 2.2-30.6 6.1-6.4-70.8-65.8-126.4-138.3-126.4-17.8 0-35 3.3-50.3 9.4-6.1 2.2-7.8 4.4-7.8 9.2v249.7c0 5 3.9 8.6 8.6 9.2h218.3c43.3 0 78.6-35 78.6-78.3.1-43.6-35.2-78.9-78.5-78.9zm-296.7-60.3c-4.2 0-7.5 3.3-7.8 7.8l-3.3 136.7 3.3 65.6c.3 4.2 3.6 7.5 7.8 7.5 4.2 0 7.5-3.3 7.5-7.5l3.9-65.6-3.9-136.7c-.3-4.5-3.3-7.8-7.5-7.8zm-53.6-7.8c-3.3 0-6.4 3.1-6.4 6.7l-3.9 145.3 3.9 66.9c.3 3.6 3.1 6.4 6.4 6.4 3.6 0 6.4-2.8 6.7-6.4l4.4-66.9-4.4-145.3c-.3-3.6-3.1-6.7-6.7-6.7zm26.7 3.4c-3.9 0-6.9 3.1-6.9 6.9L227 321.3l3.9 66.4c.3 3.9 3.1 6.9 6.9 6.9s6.9-3.1 6.9-6.9l4.2-66.4-4.2-141.7c0-3.9-3-6.9-6.9-6.9z"/></svg>
                        </a>
                    </li>
                </ul>
                <div class="px-10 text-xs sm:text-sm">
                    No webdesigners were harmed in the making of this website.<br class="hidden sm:block">All rights reserved (c) 2024.
                </div>
            </div>
        </footer>
    </div>

    <script src="https://deploy-preview-23--clever-kirch-e3579e.netlify.app/assets/js/site.js"></script>
</body>
</html>